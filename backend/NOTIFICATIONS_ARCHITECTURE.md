# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ú–æ–Ω–æ–ª–∏—Ç vs –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## –¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–º–æ–Ω–æ–ª–∏—Ç–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** —Å –º–æ–¥—É–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:
- FastAPI backend
- –ú–æ–¥—É–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã (Service Layer)
- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (Repository Pattern)
- –ï–¥–∏–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL

## –ê–Ω–∞–ª–∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û—Å—Ç–∞–≤–∏—Ç—å –≤ –º–æ–Ω–æ–ª–∏—Ç–µ (—Ç–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ) ‚úÖ

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –ï–¥–∏–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –ë–î (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∞—Ç–æ–º–∞—Ä–Ω–æ)
- ‚úÖ –ù–µ—Ç –∑–∞–¥–µ—Ä–∂–µ–∫ –Ω–∞ —Å–µ—Ç–µ–≤—ã–µ –≤—ã–∑–æ–≤—ã
- ‚úÖ –ü—Ä–æ—â–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- ‚úÖ –ú–µ–Ω—å—à–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ service discovery, API gateway)
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (–Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ)

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ù–µ–ª—å–∑—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ (–µ—Å–ª–∏ –º–Ω–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, –Ω—É–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å backend)
- ‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –º–æ–≥—É—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚ùå –°–ª–æ–∂–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Node.js –¥–ª—è WebSocket —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í—ã–¥–µ–ª–∏—Ç—å –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å

**–ü–ª—é—Å—ã:**
- ‚úÖ –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ò–∑–æ–ª—è—Ü–∏—è - –ø—Ä–æ–±–ª–µ–º—ã –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è—Ö –Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- ‚úÖ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- ‚úÖ –ù–µ–∑–∞–≤–∏—Å–∏–º–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- ‚úÖ –õ–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (service discovery, API gateway, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
- ‚ùå –ó–∞–¥–µ—Ä–∂–∫–∏ –Ω–∞ —Å–µ—Ç–µ–≤—ã–µ –≤—ã–∑–æ–≤—ã
- ‚ùå –°–ª–æ–∂–Ω–µ–µ –æ—Ç–ª–∞–¥–∫–∞ (distributed tracing)
- ‚ùå –ü—Ä–æ–±–ª–µ–º—ã —Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∞—Ç–æ–º–∞—Ä–Ω–æ)
- ‚ùå –ë–æ–ª—å—à–µ —Ç–æ—á–µ–∫ –æ—Ç–∫–∞–∑–∞
- ‚ùå –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (docker-compose —É—Å–ª–æ–∂–Ω–∏—Ç—Å—è)

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

### –¢–µ–∫—É—â–∏–π —ç—Ç–∞–ø: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (Ready for Microservices)

**–†–µ–∫–æ–º–µ–Ω–¥—É—é –æ—Å—Ç–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –º–æ–Ω–æ–ª–∏—Ç–µ, –Ω–æ —Å–¥–µ–ª–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –≥–æ—Ç–æ–≤–æ–π –∫ –≤—ã–¥–µ–ª–µ–Ω–∏—é:**

1. ‚úÖ –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: –°–µ—Ä–≤–∏—Å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω (`NotificationService`)
2. ‚úÖ –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: –ß–µ—Ç–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–µ—Ä–µ–∑ API
3. ‚úÖ –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### –ö–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –≤—ã–¥–µ–ª—è—Ç—å –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å?

–í—ã–¥–µ–ª—è–π—Ç–µ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å, –µ—Å–ª–∏:
- üî¥ –û–±—ä–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π –∏ –Ω—É–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
- üî¥ –ù—É–∂–Ω—ã —Ä–∞–∑–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Node.js –¥–ª—è WebSocket)
- üî¥ –ö–æ–º–∞–Ω–¥–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–∞—è –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- üî¥ –ï—Å—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ –∏–∑–æ–ª—è—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–∂–µ –µ—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)

**–ù–µ –≤—ã–¥–µ–ª—è–π—Ç–µ, –µ—Å–ª–∏:**
- ‚úÖ –ü—Ä–æ–µ–∫—Ç –Ω–µ–±–æ–ª—å—à–æ–π/—Å—Ä–µ–¥–Ω–∏–π
- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ –Ω–µ–±–æ–ª—å—à–∞—è
- ‚úÖ –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- ‚úÖ –ù—É–∂–Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏

## –ö–æ–º–ø—Ä–æ–º–∏—Å—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: Event-Driven Architecture –≤ –º–æ–Ω–æ–ª–∏—Ç–µ

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ –≤–æ–∑–º–æ–∂–Ω–æ–º—É –≤—ã–¥–µ–ª–µ–Ω–∏—é, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É:

```python
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—á–µ—Ä–µ–¥–∏ –∑–∞–¥–∞—á (Celery, RQ) –∏–ª–∏ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á FastAPI
from fastapi import BackgroundTasks

@router.post("/upload")
async def upload_file(
    background_tasks: BackgroundTasks,
    ...
):
    # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
    result = process_file(...)
    
    # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç)
    background_tasks.add_task(
        send_notification,
        user_id=user.id,
        title="–§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω",
        message=f"–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: {result.count}"
    )
    
    return result
```

–≠—Ç–æ –¥–∞–µ—Ç:
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –∑–∞–ø—Ä–æ—Å)
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ª–µ–≥–∫–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –æ—á–µ—Ä–µ–¥—å (RabbitMQ, Redis)
- ‚úÖ –õ–µ–≥–∫–æ –≤—ã–¥–µ–ª–∏—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π worker –ø–æ–∑–∂–µ
- ‚úÖ –ù–µ —É—Å–ª–æ–∂–Ω—è–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–µ–π—á–∞—Å

## –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å (–µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è)

–ï—Å–ª–∏ –≤ –±—É–¥—É—â–µ–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –≤—ã–¥–µ–ª–∏—Ç—å:

1. **–°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å** `notification-service`
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTP API** –∏–ª–∏ **message queue** (RabbitMQ, Redis)
3. **–û–±–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å** –¥–ª—è –≤—ã–∑–æ–≤–∞ —á–µ—Ä–µ–∑ HTTP/–æ—á–µ—Ä–µ–¥—å
4. **–î–æ–±–∞–≤–∏—Ç—å –≤ docker-compose.yml** –Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å

–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:
```
backend/
‚îú‚îÄ‚îÄ notification-service/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ notification_service.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models.py
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ app/
    ‚îî‚îÄ‚îÄ services/
        ‚îî‚îÄ‚îÄ notification_client.py  # –ö–ª–∏–µ–Ω—Ç –¥–ª—è –≤—ã–∑–æ–≤–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞
```

## –í—ã–≤–æ–¥

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –û—Å—Ç–∞–≤–∏—Ç—å –≤ –º–æ–Ω–æ–ª–∏—Ç–µ —Å–µ–π—á–∞—Å**

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É–∂–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–∞ –∫ –≤–æ–∑–º–æ–∂–Ω–æ–º—É –≤—ã–¥–µ–ª–µ–Ω–∏—é:
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å
- –ß–µ—Ç–∫–∏–π API
- –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –º–æ–¥–µ–ª–∏

–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –≤—ã–¥–µ–ª–∏—Ç—å –ø–æ–∑–∂–µ, –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—è –≤—Å—é –ª–æ–≥–∏–∫—É.

